import { TypedEventEmitter } from '@libp2p/interface';
import type { DataChannelOptions, TransportCertificate } from '../index.js';
import type { PeerId, ListenerEvents, Listener, Upgrader, ComponentLogger, CounterGroup, Metrics, PrivateKey } from '@libp2p/interface';
import type { Multiaddr } from '@multiformats/multiaddr';
export interface WebRTCDirectListenerComponents {
    peerId: PeerId;
    privateKey: PrivateKey;
    logger: ComponentLogger;
    upgrader: Upgrader;
    metrics?: Metrics;
}
export interface WebRTCDirectListenerInit {
    upgrader: Upgrader;
    certificates?: TransportCertificate[];
    maxInboundStreams?: number;
    dataChannel?: DataChannelOptions;
    rtcConfiguration?: RTCConfiguration | (() => RTCConfiguration | Promise<RTCConfiguration>);
    useLibjuice?: boolean;
}
export interface WebRTCListenerMetrics {
    listenerEvents: CounterGroup;
}
export declare class WebRTCDirectListener extends TypedEventEmitter<ListenerEvents> implements Listener {
    private readonly multiaddrs;
    private certificate?;
    private readonly connections;
    private readonly log;
    private readonly init;
    private readonly components;
    private readonly metrics?;
    private readonly shutdownController;
    constructor(components: WebRTCDirectListenerComponents, init: WebRTCDirectListenerInit);
    listen(ma: Multiaddr): Promise<void>;
    private startUDPMuxServer;
    private incomingConnection;
    getAddrs(): Multiaddr[];
    updateAnnounceAddrs(multiaddrs: Multiaddr[]): void;
    close(): Promise<void>;
}
//# sourceMappingURL=listener.d.ts.map